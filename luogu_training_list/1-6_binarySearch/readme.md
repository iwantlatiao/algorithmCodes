# 1-6 二分查找总结

## P2249	查找

输入 $n$ 个单调不减的非负整数然后进行 $m$ 次询问, 输出输出这个数字在序列中第一次出现的编号, 没有找到的话输出 $-1$.

### 思路

二分模板题, 注意超出右边界时需要判断.

```python
i = bisect_left(num, q)
if i == len(num) or num[i] != q:  # 注意判断超出右边界
    print("-1", end=" ")
else:
    print(i + 1, end=" ")
```

## P1102	A-B 数对

给出一串正整数数列以及一个正整数 $C$，要求计算出所有满足 $A - B = C$ 的数对的个数（不同位置的数字一样的数对算不同的数对）。

### 思路

先对数列排序, 然后二分查找 $A=B+C$, 用`bisect_right` 减去 `bisect_left` 即可得到一个数的答案.

## P1873	\[COCI 2011/2012 #5\] EKO / 砍树

有 $N$ 棵树, 要求求出锯片的最高高度 $H$, 使得能得到的木材**至少**为 $M$ 米.

### 思路

二分查找. 左端点为 $0$, 右端点为 $max(height)$. 注意返回的端点不一定满足条件.

```python
def bS(l, r):
    # 注意 res[:r] > M, res[r] <= M
    # 所以要判断返回值是否等于 M
    if l == r:
        if cal(l) >= M: return l
        else: return l - 1
    mid = (l + r) >> 1
    res = cal(mid)
    if res <= M: return bS(l, mid)  # 不够, 砍多点
    else: return bS(mid + 1, r)
```

## P1024	\[NOIP2001 提高组\] 一元三次方程求解

有一元三次方程 $a x^3 + b x^2 + c x + d = 0$ ，给出该方程中各项的系数，并约定该方程存在三个不同实根（根的范围在 $-100$ 至 $100$ 之间），且根与根之差的绝对值 $\ge 1$。要求由小到大依次在同一行输出这三个实根(根与根之间留有空格)，并精确到小数点后 $2$ 位。

提示：零点定理

### 思路

如果根非常接近 $0$ 则需要特判，否则会输出 $-0.00$ 。

```python
for x in range(-100, 100):
    if func(x) == 0:
        print("{:.2f}".format(x), end=" ")
    elif func(x) * func(x + 1) < 0:
        l, r = x, x + 1
        while r - l >= 0.0001:
            mid = (l + r) / 2
            if func(l) * func(mid) <= 0:
                r = mid
            else:
                l = mid
        if abs(l) < 0.01:
            l = 0
        print("{:.2f}".format(l), end=" ")
```

## P1678	烦恼的高考志愿

现有 $m$ 所学校，每所学校预计分数线是 $a_i$。有 $n$ 位学生，估分分别为 $b_i$。

根据 $n$ 位学生的估分情况，分别给每位学生推荐一所学校，要求学校的预计分数线和学生的估分相差最小（可高可低，毕竟是估分嘛），这个最小值为不满意度。求所有学生不满意度和的最小值。

### 思路

排序后可以二分，也可以写一个队列。

## P2440	木材加工
## P2678	\[NOIP2015 提高组\] 跳石头
## P3853	\[TJOI2007\] 路标设置
## P1182	数列分段 Section II
## P1163	银行贷款
## P3743	kotori的设备