# 1-7 搜索总结

## P1219	\[USACO1.5\] 八皇后 Checker Challenge

八皇后问题, 输入棋盘大小, 输出解的个数

### 思路

dfs 维护四个数组.
- 每行的棋子放在第几列 $row$
- 每列的棋子放在第几行 $col$
- 两个对角线, 对角线可以用 $x+y=a$ 和 $x-y=a$ 表示

由于 python 运行速度慢, 大数据点可以通过**打表**过.

## P2392	kkksc03考前临时抱佛脚

参考 [暴力枚举总结](../1-3_bruteforce/readme.md#p2392-kkksc03考前临时抱佛脚)

## P1443	马的遍历

有一个 $n \times m$ 的棋盘，在某个点 $(x, y)$ 上有一个马，要求你计算出马到达棋盘上任意一个点最少要走几步。

### 思路

bfs 模板题, python 可以使用 `queue.Queue()` 预置的队列.

输出格式左对齐五格 `"{:<5}".format(dis[i][j])`

更多输出格式[查询](https://docs.python.org/3/library/string.html)

## P1135	奇怪的电梯

大楼的每一层楼都可以停电梯，而且第 $i$ 层楼（$1 \le i \le N$）上有一个数字 $K_i$（$0 \le K_i \le N$）。电梯只有四个按钮：开，关，上，下。上下的层数等于当前楼层上的那个数字。当然，如果不能满足要求，相应的按钮就会失灵。例如： $3, 3, 1, 2, 5$ 代表了 $K_i$（$K_1=3$，$K_2=3$，……），从 $1$ 楼开始。在 $1$ 楼，按“上”可以到 $4$ 楼，按“下”是不起作用的，因为没有 $-2$ 楼。那么，从 $A$ 楼到 $B$ 楼至少要按几次按钮呢？

### 思路

BFS 模板题

## P2895	\[USACO08FEB\] Meteor Shower S

一共有 $M$ 颗流星 $(1\leq M\leq 50,000)$ 会坠落在农场上，其中第 $i$ 颗流星会在时刻 $T_i$（$0 \leq T _ i \leq 1000$）砸在坐标为 $(X_i,Y_i)(0\leq X_i\leq 300$，$0\leq Y_i\leq 300)$ 的格子里。流星的力量会将它所在的格子，以及周围 $4$ 个相邻的格子都化为焦土，当然贝茜也无法再在这些格子上行走。

贝茜在时刻 $0$ 开始行动，她只能在第一象限中，平行于坐标轴行动，每 $1$ 个时刻中，她能移动到相邻的（一般是 $4$ 个）格子中的任意一个，当然目标格子要没有被烧焦才行。如果一个格子在时刻 $t$ 被流星撞击或烧焦，那么贝茜只能在 $t$ 之前的时刻在这个格子里出现。 贝茜一开始在 $(0,0)$。

请你计算一下，贝茜最少需要多少时间才能到达一个安全的格子。如果不可能到达输出 $−1$。

### 思路

BFS 模板题，需要注意两个细节

1. 流星只砸在 $(300,300)$ 内，但人可以走到这个坐标外，就安全了
2. 流星输入的顺序和时间没有关系


## P1036	\[NOIP2002 普及组\] 选数

参考 [暴力枚举总结](../1-3_bruteforce/readme.md#p1036-noip2002-普及组-选数)

## P2036	\[COCI2008-2009 #2\] PERKET

参考 [暴力枚举总结](../1-3_bruteforce/readme.md#p2036-coci2008-2009-2-perket)

## P1433	吃奶酪

房间里放着 $n$ 块奶酪。一只小老鼠要把它们都吃掉，问至少要跑多少距离？距离计算为 $\sqrt{(x_1-x_2)^2+(y_1-y_2)^2}$ ，老鼠一开始在 $(0,0)$ 点处。

对于全部的测试点，保证 $1\leq n\leq 15$，$|x_i|, |y_i| \leq 200$，小数点后最多有 $3$ 位数字。

### 思路



#### 方法 1 搜索

先求两两奶酪之间的距离，然后生成排列求总距离，时间复杂度 $O(n!)$

```c++
double dist[20][20],mind=0xffffff,dqd;int n,use[20];

// ... 

void dfs(int f,int x){
	if(f==n)
		mind=dqd;
	else
		for(int i=1;i<=n;i++)
			if(use[i]==0&&dqd+dist[x][i]<mind){
				use[i]=1;
				dqd+=dist[x][i];
				dfs(f+1,i);
				use[i]=0;
				dqd-=dist[x][i];
			}
}
```
#### 方法 2 状压DP




## P1605	迷宫
## P1019	\[NOIP2000 提高组\] 单词接龙
## P1101	单词方阵
## P2404	自然数的拆分问题
## P1596	\[USACO10OCT\] Lake Counting S
## P1162	填涂颜色
## P1032	\[NOIP2002 提高组\] 字串变换
## P1825	\[USACO11OPEN\] Corn Maze S